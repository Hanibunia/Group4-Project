function cov_1myvrg9oy9(){var path="C:\\Users\\Derrick\\Documents\\DVOPS_Projects\\test 3\\Group4-Project\\public\\js\\Profile.js";var hash="477549a1f16735f7661d061432a496e40e308258";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Derrick\\Documents\\DVOPS_Projects\\test 3\\Group4-Project\\public\\js\\Profile.js",statementMap:{"0":{start:{line:2,column:23},end:{line:2,column:47}},"1":{start:{line:3,column:19},end:{line:3,column:39}},"2":{start:{line:5,column:4},end:{line:15,column:5}},"3":{start:{line:6,column:8},end:{line:6,column:54}},"4":{start:{line:8,column:8},end:{line:8,column:51}},"5":{start:{line:11,column:8},end:{line:11,column:64}},"6":{start:{line:14,column:8},end:{line:14,column:45}},"7":{start:{line:19,column:4},end:{line:47,column:5}},"8":{start:{line:20,column:25},end:{line:29,column:10}},"9":{start:{line:31,column:8},end:{line:34,column:9}},"10":{start:{line:32,column:33},end:{line:32,column:54}},"11":{start:{line:33,column:12},end:{line:33,column:65}},"12":{start:{line:37,column:19},end:{line:37,column:59}},"13":{start:{line:39,column:8},end:{line:44,column:9}},"14":{start:{line:40,column:12},end:{line:40,column:48}},"15":{start:{line:41,column:12},end:{line:41,column:63}},"16":{start:{line:43,column:12},end:{line:43,column:66}},"17":{start:{line:46,column:8},end:{line:46,column:73}}},fnMap:{"0":{name:"updateEmail",decl:{start:{line:1,column:15},end:{line:1,column:26}},loc:{start:{line:1,column:29},end:{line:16,column:1}},line:1},"1":{name:"updateUserEmail",decl:{start:{line:18,column:15},end:{line:18,column:30}},loc:{start:{line:18,column:55},end:{line:48,column:1}},line:18}},branchMap:{"0":{loc:{start:{line:31,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:31,column:8},end:{line:34,column:9}},{start:{line:31,column:8},end:{line:34,column:9}}],line:31},"1":{loc:{start:{line:33,column:28},end:{line:33,column:63}},type:"binary-expr",locations:[{start:{line:33,column:28},end:{line:33,column:40}},{start:{line:33,column:44},end:{line:33,column:63}}],line:33},"2":{loc:{start:{line:39,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:39,column:8},end:{line:44,column:9}},{start:{line:39,column:8},end:{line:44,column:9}}],line:39}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"477549a1f16735f7661d061432a496e40e308258"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1myvrg9oy9=function(){return actualCoverage;};}return actualCoverage;}cov_1myvrg9oy9();async function updateEmail(){cov_1myvrg9oy9().f[0]++;var currentEmail=(cov_1myvrg9oy9().s[0]++,$('#currentEmail').val());var newEmail=(cov_1myvrg9oy9().s[1]++,$('#newEmail').val());cov_1myvrg9oy9().s[2]++;try{cov_1myvrg9oy9().s[3]++;await updateUserEmail(currentEmail,newEmail);// Provide success feedback to the user in the UI (e.g., display a success message)
cov_1myvrg9oy9().s[4]++;console.log('Email updated successfully!');}catch(error){cov_1myvrg9oy9().s[5]++;// Provide error feedback to the user in the UI (e.g., display an error message)
console.error('Failed to update email:',error.message);}finally{cov_1myvrg9oy9().s[6]++;// Close the modal regardless of success or failure
$('#updateEmailModal').modal('hide');}}async function updateUserEmail(currentEmail,newEmail){cov_1myvrg9oy9().f[1]++;cov_1myvrg9oy9().s[7]++;try{const response=(cov_1myvrg9oy9().s[8]++,await fetch('/updateEmail',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({currentEmail,newEmail})}));cov_1myvrg9oy9().s[9]++;if(!response.ok){cov_1myvrg9oy9().b[0][0]++;const errorMessage=(cov_1myvrg9oy9().s[10]++,await response.text());cov_1myvrg9oy9().s[11]++;throw new Error((cov_1myvrg9oy9().b[1][0]++,errorMessage)||(cov_1myvrg9oy9().b[1][1]++,response.statusText));}else{cov_1myvrg9oy9().b[0][1]++;}// Update the email in the user data in localStorage
let user=(cov_1myvrg9oy9().s[12]++,JSON.parse(localStorage.getItem('user')));cov_1myvrg9oy9().s[13]++;if(user){cov_1myvrg9oy9().b[2][0]++;cov_1myvrg9oy9().s[14]++;user={...user,email:newEmail};cov_1myvrg9oy9().s[15]++;localStorage.setItem('user',JSON.stringify(user));}else{cov_1myvrg9oy9().b[2][1]++;cov_1myvrg9oy9().s[16]++;console.error('User data not found in localStorage.');}}catch(error){cov_1myvrg9oy9().s[17]++;throw new Error(`Failed to update user email: ${error.message}`);}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW15dnJnOW95OSIsImFjdHVhbENvdmVyYWdlIiwidXBkYXRlRW1haWwiLCJmIiwiY3VycmVudEVtYWlsIiwicyIsIiQiLCJ2YWwiLCJuZXdFbWFpbCIsInVwZGF0ZVVzZXJFbWFpbCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiLCJtb2RhbCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImIiLCJlcnJvck1lc3NhZ2UiLCJ0ZXh0IiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwidXNlciIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImVtYWlsIiwic2V0SXRlbSJdLCJzb3VyY2VzIjpbIlByb2ZpbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiYXN5bmMgZnVuY3Rpb24gdXBkYXRlRW1haWwoKSB7XHJcbiAgICB2YXIgY3VycmVudEVtYWlsID0gJCgnI2N1cnJlbnRFbWFpbCcpLnZhbCgpO1xyXG4gICAgdmFyIG5ld0VtYWlsID0gJCgnI25ld0VtYWlsJykudmFsKCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCB1cGRhdGVVc2VyRW1haWwoY3VycmVudEVtYWlsLCBuZXdFbWFpbCk7XHJcbiAgICAgICAgLy8gUHJvdmlkZSBzdWNjZXNzIGZlZWRiYWNrIHRvIHRoZSB1c2VyIGluIHRoZSBVSSAoZS5nLiwgZGlzcGxheSBhIHN1Y2Nlc3MgbWVzc2FnZSlcclxuICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgdXBkYXRlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIC8vIFByb3ZpZGUgZXJyb3IgZmVlZGJhY2sgdG8gdGhlIHVzZXIgaW4gdGhlIFVJIChlLmcuLCBkaXNwbGF5IGFuIGVycm9yIG1lc3NhZ2UpXHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBlbWFpbDonLCBlcnJvci5tZXNzYWdlKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgLy8gQ2xvc2UgdGhlIG1vZGFsIHJlZ2FyZGxlc3Mgb2Ygc3VjY2VzcyBvciBmYWlsdXJlXHJcbiAgICAgICAgJCgnI3VwZGF0ZUVtYWlsTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyRW1haWwoY3VycmVudEVtYWlsLCBuZXdFbWFpbCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvdXBkYXRlRW1haWwnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgY3VycmVudEVtYWlsLFxyXG4gICAgICAgICAgICAgICAgbmV3RW1haWxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlIHx8IHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBlbWFpbCBpbiB0aGUgdXNlciBkYXRhIGluIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIGxldCB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTtcclxuXHJcbiAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgdXNlciA9IHsgLi4udXNlciwgZW1haWw6IG5ld0VtYWlsIH07XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgZGF0YSBub3QgZm91bmQgaW4gbG9jYWxTdG9yYWdlLicpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIHVzZXIgZW1haWw6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6IitvRkFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixjQUFlLENBQUFFLFdBQVdBLENBQUEsQ0FBRyxDQUFBRixjQUFBLEdBQUFHLENBQUEsTUFDekIsR0FBSSxDQUFBQyxZQUFZLEVBQUFKLGNBQUEsR0FBQUssQ0FBQSxNQUFHQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQzNDLEdBQUksQ0FBQUMsUUFBUSxFQUFBUixjQUFBLEdBQUFLLENBQUEsTUFBR0MsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDQyxHQUFHLENBQUMsQ0FBQyxFQUFDUCxjQUFBLEdBQUFLLENBQUEsTUFFcEMsR0FBSSxDQUFBTCxjQUFBLEdBQUFLLENBQUEsTUFDQSxLQUFNLENBQUFJLGVBQWUsQ0FBQ0wsWUFBWSxDQUFFSSxRQUFRLENBQUMsQ0FDN0M7QUFBQVIsY0FBQSxHQUFBSyxDQUFBLE1BQ0FLLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixDQUFDLENBQzlDLENBQUUsTUFBT0MsS0FBSyxDQUFFLENBQUFaLGNBQUEsR0FBQUssQ0FBQSxNQUNaO0FBQ0FLLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDLHlCQUF5QixDQUFFQSxLQUFLLENBQUNDLE9BQU8sQ0FBQyxDQUMzRCxDQUFDLE9BQVMsQ0FBQWIsY0FBQSxHQUFBSyxDQUFBLE1BQ047QUFDQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUNRLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FDeEMsQ0FDSixDQUVBLGNBQWUsQ0FBQUwsZUFBZUEsQ0FBQ0wsWUFBWSxDQUFFSSxRQUFRLENBQUUsQ0FBQVIsY0FBQSxHQUFBRyxDQUFBLE1BQUFILGNBQUEsR0FBQUssQ0FBQSxNQUNuRCxHQUFJLENBQ0EsS0FBTSxDQUFBVSxRQUFRLEVBQUFmLGNBQUEsR0FBQUssQ0FBQSxNQUFHLEtBQU0sQ0FBQVcsS0FBSyxDQUFDLGNBQWMsQ0FBRSxDQUN6Q0MsTUFBTSxDQUFFLEtBQUssQ0FDYkMsT0FBTyxDQUFFLENBQ0wsY0FBYyxDQUFFLGtCQUNwQixDQUFDLENBQ0RDLElBQUksQ0FBRUMsSUFBSSxDQUFDQyxTQUFTLENBQUMsQ0FDakJqQixZQUFZLENBQ1pJLFFBQ0osQ0FBQyxDQUNMLENBQUMsQ0FBQyxFQUFDUixjQUFBLEdBQUFLLENBQUEsTUFFSCxHQUFJLENBQUNVLFFBQVEsQ0FBQ08sRUFBRSxDQUFFLENBQUF0QixjQUFBLEdBQUF1QixDQUFBLFNBQ2QsS0FBTSxDQUFBQyxZQUFZLEVBQUF4QixjQUFBLEdBQUFLLENBQUEsT0FBRyxLQUFNLENBQUFVLFFBQVEsQ0FBQ1UsSUFBSSxDQUFDLENBQUMsRUFBQ3pCLGNBQUEsR0FBQUssQ0FBQSxPQUMzQyxLQUFNLElBQUksQ0FBQXFCLEtBQUssQ0FBQyxDQUFBMUIsY0FBQSxHQUFBdUIsQ0FBQSxTQUFBQyxZQUFZLElBQUF4QixjQUFBLEdBQUF1QixDQUFBLFNBQUlSLFFBQVEsQ0FBQ1ksVUFBVSxFQUFDLENBQ3hELENBQUMsS0FBQTNCLGNBQUEsR0FBQXVCLENBQUEsVUFFRDtBQUNBLEdBQUksQ0FBQUssSUFBSSxFQUFBNUIsY0FBQSxHQUFBSyxDQUFBLE9BQUdlLElBQUksQ0FBQ1MsS0FBSyxDQUFDQyxZQUFZLENBQUNDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFDL0IsY0FBQSxHQUFBSyxDQUFBLE9BRXBELEdBQUl1QixJQUFJLENBQUUsQ0FBQTVCLGNBQUEsR0FBQXVCLENBQUEsU0FBQXZCLGNBQUEsR0FBQUssQ0FBQSxPQUNOdUIsSUFBSSxDQUFHLENBQUUsR0FBR0EsSUFBSSxDQUFFSSxLQUFLLENBQUV4QixRQUFTLENBQUMsQ0FBQ1IsY0FBQSxHQUFBSyxDQUFBLE9BQ3BDeUIsWUFBWSxDQUFDRyxPQUFPLENBQUMsTUFBTSxDQUFFYixJQUFJLENBQUNDLFNBQVMsQ0FBQ08sSUFBSSxDQUFDLENBQUMsQ0FDdEQsQ0FBQyxJQUFNLENBQUE1QixjQUFBLEdBQUF1QixDQUFBLFNBQUF2QixjQUFBLEdBQUFLLENBQUEsT0FDSEssT0FBTyxDQUFDRSxLQUFLLENBQUMsc0NBQXNDLENBQUMsQ0FDekQsQ0FDSixDQUFFLE1BQU9BLEtBQUssQ0FBRSxDQUFBWixjQUFBLEdBQUFLLENBQUEsT0FDWixLQUFNLElBQUksQ0FBQXFCLEtBQUssQ0FBRSxnQ0FBK0JkLEtBQUssQ0FBQ0MsT0FBUSxFQUFDLENBQUMsQ0FDcEUsQ0FDSiJ9