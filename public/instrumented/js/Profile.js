function cov_3x4vndn11(){var path="C:\\Users\\cleme\\Documents\\DVOPS_Projects\\Project\\Group4-Project\\public\\js\\Profile.js";var hash="89dfe724ecd9d625bc6a5c4a8fde53bb188f5e86";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\cleme\\Documents\\DVOPS_Projects\\Project\\Group4-Project\\public\\js\\Profile.js",statementMap:{"0":{start:{line:2,column:23},end:{line:2,column:47}},"1":{start:{line:3,column:19},end:{line:3,column:39}},"2":{start:{line:5,column:4},end:{line:15,column:5}},"3":{start:{line:6,column:8},end:{line:6,column:54}},"4":{start:{line:11,column:8},end:{line:11,column:64}},"5":{start:{line:14,column:8},end:{line:14,column:45}},"6":{start:{line:19,column:4},end:{line:51,column:5}},"7":{start:{line:21,column:25},end:{line:30,column:10}},"8":{start:{line:33,column:8},end:{line:36,column:9}},"9":{start:{line:34,column:33},end:{line:34,column:54}},"10":{start:{line:35,column:12},end:{line:35,column:65}},"11":{start:{line:39,column:19},end:{line:39,column:59}},"12":{start:{line:41,column:8},end:{line:48,column:9}},"13":{start:{line:43,column:12},end:{line:43,column:48}},"14":{start:{line:44,column:12},end:{line:44,column:63}},"15":{start:{line:47,column:12},end:{line:47,column:66}},"16":{start:{line:50,column:8},end:{line:50,column:73}}},fnMap:{"0":{name:"updateEmail",decl:{start:{line:1,column:15},end:{line:1,column:26}},loc:{start:{line:1,column:29},end:{line:16,column:1}},line:1},"1":{name:"updateUserEmail",decl:{start:{line:18,column:15},end:{line:18,column:30}},loc:{start:{line:18,column:55},end:{line:52,column:1}},line:18}},branchMap:{"0":{loc:{start:{line:33,column:8},end:{line:36,column:9}},type:"if",locations:[{start:{line:33,column:8},end:{line:36,column:9}},{start:{line:33,column:8},end:{line:36,column:9}}],line:33},"1":{loc:{start:{line:35,column:28},end:{line:35,column:63}},type:"binary-expr",locations:[{start:{line:35,column:28},end:{line:35,column:40}},{start:{line:35,column:44},end:{line:35,column:63}}],line:35},"2":{loc:{start:{line:41,column:8},end:{line:48,column:9}},type:"if",locations:[{start:{line:41,column:8},end:{line:48,column:9}},{start:{line:41,column:8},end:{line:48,column:9}}],line:41}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"89dfe724ecd9d625bc6a5c4a8fde53bb188f5e86"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_3x4vndn11=function(){return actualCoverage;};}return actualCoverage;}cov_3x4vndn11();async function updateEmail(){cov_3x4vndn11().f[0]++;var currentEmail=(cov_3x4vndn11().s[0]++,$('#currentEmail').val());var newEmail=(cov_3x4vndn11().s[1]++,$('#newEmail').val());cov_3x4vndn11().s[2]++;try{cov_3x4vndn11().s[3]++;await updateUserEmail(currentEmail,newEmail);// success msg
}catch(error){cov_3x4vndn11().s[4]++;// error msg
console.error('Failed to update email:',error.message);}finally{cov_3x4vndn11().s[5]++;// closemodal
$('#updateEmailModal').modal('hide');}}async function updateUserEmail(currentEmail,newEmail){cov_3x4vndn11().f[1]++;cov_3x4vndn11().s[6]++;try{//updateUserEmail function
const response=(cov_3x4vndn11().s[7]++,await fetch('/updateEmail',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({currentEmail,newEmail})}));//throw error if response is not ok
cov_3x4vndn11().s[8]++;if(!response.ok){cov_3x4vndn11().b[0][0]++;const errorMessage=(cov_3x4vndn11().s[9]++,await response.text());cov_3x4vndn11().s[10]++;throw new Error((cov_3x4vndn11().b[1][0]++,errorMessage)||(cov_3x4vndn11().b[1][1]++,response.statusText));}else{cov_3x4vndn11().b[0][1]++;}// updating of email in localStorage
let user=(cov_3x4vndn11().s[11]++,JSON.parse(localStorage.getItem('user')));cov_3x4vndn11().s[12]++;if(user){cov_3x4vndn11().b[2][0]++;cov_3x4vndn11().s[13]++;// if user data exists
user={...user,email:newEmail};cov_3x4vndn11().s[14]++;localStorage.setItem('user',JSON.stringify(user));}else{cov_3x4vndn11().b[2][1]++;cov_3x4vndn11().s[15]++;// if user data do not exists
console.error('User data not found in localStorage.');}}catch(error){cov_3x4vndn11().s[16]++;throw new Error(`Failed to update user email: ${error.message}`);}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfM3g0dm5kbjExIiwiYWN0dWFsQ292ZXJhZ2UiLCJ1cGRhdGVFbWFpbCIsImYiLCJjdXJyZW50RW1haWwiLCJzIiwiJCIsInZhbCIsIm5ld0VtYWlsIiwidXBkYXRlVXNlckVtYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsIm1vZGFsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiYiIsImVycm9yTWVzc2FnZSIsInRleHQiLCJFcnJvciIsInN0YXR1c1RleHQiLCJ1c2VyIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZW1haWwiLCJzZXRJdGVtIl0sInNvdXJjZXMiOlsiUHJvZmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyBmdW5jdGlvbiB1cGRhdGVFbWFpbCgpIHtcclxuICAgIHZhciBjdXJyZW50RW1haWwgPSAkKCcjY3VycmVudEVtYWlsJykudmFsKCk7XHJcbiAgICB2YXIgbmV3RW1haWwgPSAkKCcjbmV3RW1haWwnKS52YWwoKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHVwZGF0ZVVzZXJFbWFpbChjdXJyZW50RW1haWwsIG5ld0VtYWlsKTtcclxuICAgICAgICAvLyBzdWNjZXNzIG1zZ1xyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBlcnJvciBtc2dcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGVtYWlsOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAvLyBjbG9zZW1vZGFsXHJcbiAgICAgICAgJCgnI3VwZGF0ZUVtYWlsTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyRW1haWwoY3VycmVudEVtYWlsLCBuZXdFbWFpbCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvL3VwZGF0ZVVzZXJFbWFpbCBmdW5jdGlvblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy91cGRhdGVFbWFpbCcsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RW1haWwsXHJcbiAgICAgICAgICAgICAgICBuZXdFbWFpbFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy90aHJvdyBlcnJvciBpZiByZXNwb25zZSBpcyBub3Qgb2tcclxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSB8fCByZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHVwZGF0aW5nIG9mIGVtYWlsIGluIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIGxldCB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKTtcclxuXHJcbiAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgLy8gaWYgdXNlciBkYXRhIGV4aXN0c1xyXG4gICAgICAgICAgICB1c2VyID0geyAuLi51c2VyLCBlbWFpbDogbmV3RW1haWwgfTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gaWYgdXNlciBkYXRhIGRvIG5vdCBleGlzdHNcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVXNlciBkYXRhIG5vdCBmb3VuZCBpbiBsb2NhbFN0b3JhZ2UuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgdXNlciBlbWFpbDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiK2tGQWVZO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsYUFBQSxHQWZaLGNBQWUsQ0FBQUUsV0FBV0EsQ0FBQSxDQUFHLENBQUFGLGFBQUEsR0FBQUcsQ0FBQSxNQUN6QixHQUFJLENBQUFDLFlBQVksRUFBQUosYUFBQSxHQUFBSyxDQUFBLE1BQUdDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFDM0MsR0FBSSxDQUFBQyxRQUFRLEVBQUFSLGFBQUEsR0FBQUssQ0FBQSxNQUFHQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUNQLGFBQUEsR0FBQUssQ0FBQSxNQUVwQyxHQUFJLENBQUFMLGFBQUEsR0FBQUssQ0FBQSxNQUNBLEtBQU0sQ0FBQUksZUFBZSxDQUFDTCxZQUFZLENBQUVJLFFBQVEsQ0FBQyxDQUM3QztBQUVKLENBQUUsTUFBT0UsS0FBSyxDQUFFLENBQUFWLGFBQUEsR0FBQUssQ0FBQSxNQUNaO0FBQ0FNLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHlCQUF5QixDQUFFQSxLQUFLLENBQUNFLE9BQU8sQ0FBQyxDQUMzRCxDQUFDLE9BQVMsQ0FBQVosYUFBQSxHQUFBSyxDQUFBLE1BQ047QUFDQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUNPLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FDeEMsQ0FDSixDQUVBLGNBQWUsQ0FBQUosZUFBZUEsQ0FBQ0wsWUFBWSxDQUFFSSxRQUFRLENBQUUsQ0FBQVIsYUFBQSxHQUFBRyxDQUFBLE1BQUFILGFBQUEsR0FBQUssQ0FBQSxNQUNuRCxHQUFJLENBQ0E7QUFDQSxLQUFNLENBQUFTLFFBQVEsRUFBQWQsYUFBQSxHQUFBSyxDQUFBLE1BQUcsS0FBTSxDQUFBVSxLQUFLLENBQUMsY0FBYyxDQUFFLENBQ3pDQyxNQUFNLENBQUUsS0FBSyxDQUNiQyxPQUFPLENBQUUsQ0FDTCxjQUFjLENBQUUsa0JBQ3BCLENBQUMsQ0FDREMsSUFBSSxDQUFFQyxJQUFJLENBQUNDLFNBQVMsQ0FBQyxDQUNqQmhCLFlBQVksQ0FDWkksUUFDSixDQUFDLENBQ0wsQ0FBQyxDQUFDLEVBRUY7QUFBQVIsYUFBQSxHQUFBSyxDQUFBLE1BQ0EsR0FBSSxDQUFDUyxRQUFRLENBQUNPLEVBQUUsQ0FBRSxDQUFBckIsYUFBQSxHQUFBc0IsQ0FBQSxTQUNkLEtBQU0sQ0FBQUMsWUFBWSxFQUFBdkIsYUFBQSxHQUFBSyxDQUFBLE1BQUcsS0FBTSxDQUFBUyxRQUFRLENBQUNVLElBQUksQ0FBQyxDQUFDLEVBQUN4QixhQUFBLEdBQUFLLENBQUEsT0FDM0MsS0FBTSxJQUFJLENBQUFvQixLQUFLLENBQUMsQ0FBQXpCLGFBQUEsR0FBQXNCLENBQUEsU0FBQUMsWUFBWSxJQUFBdkIsYUFBQSxHQUFBc0IsQ0FBQSxTQUFJUixRQUFRLENBQUNZLFVBQVUsRUFBQyxDQUN4RCxDQUFDLEtBQUExQixhQUFBLEdBQUFzQixDQUFBLFVBRUQ7QUFDQSxHQUFJLENBQUFLLElBQUksRUFBQTNCLGFBQUEsR0FBQUssQ0FBQSxPQUFHYyxJQUFJLENBQUNTLEtBQUssQ0FBQ0MsWUFBWSxDQUFDQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQzlCLGFBQUEsR0FBQUssQ0FBQSxPQUVwRCxHQUFJc0IsSUFBSSxDQUFFLENBQUEzQixhQUFBLEdBQUFzQixDQUFBLFNBQUF0QixhQUFBLEdBQUFLLENBQUEsT0FDTjtBQUNBc0IsSUFBSSxDQUFHLENBQUUsR0FBR0EsSUFBSSxDQUFFSSxLQUFLLENBQUV2QixRQUFTLENBQUMsQ0FBQ1IsYUFBQSxHQUFBSyxDQUFBLE9BQ3BDd0IsWUFBWSxDQUFDRyxPQUFPLENBQUMsTUFBTSxDQUFFYixJQUFJLENBQUNDLFNBQVMsQ0FBQ08sSUFBSSxDQUFDLENBQUMsQ0FDdEQsQ0FBQyxJQUFNLENBQUEzQixhQUFBLEdBQUFzQixDQUFBLFNBQUF0QixhQUFBLEdBQUFLLENBQUEsT0FDSDtBQUNBTSxPQUFPLENBQUNELEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUN6RCxDQUNKLENBQUUsTUFBT0EsS0FBSyxDQUFFLENBQUFWLGFBQUEsR0FBQUssQ0FBQSxPQUNaLEtBQU0sSUFBSSxDQUFBb0IsS0FBSyxDQUFFLGdDQUErQmYsS0FBSyxDQUFDRSxPQUFRLEVBQUMsQ0FBQyxDQUNwRSxDQUNKIn0=