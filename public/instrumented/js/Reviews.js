function cov_20cq24pctf(){var path="E:\\vs studio code\\devops\\test\\Group4-Project\\public\\js\\Reviews.js";var hash="59aeef620932e2cb330950de942ce7a4cdb6c85a";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"E:\\vs studio code\\devops\\test\\Group4-Project\\public\\js\\Reviews.js",statementMap:{"0":{start:{line:4,column:26},end:{line:4,column:55}},"1":{start:{line:5,column:4},end:{line:5,column:48}},"2":{start:{line:7,column:4},end:{line:11,column:5}},"3":{start:{line:7,column:17},end:{line:7,column:18}},"4":{start:{line:8,column:25},end:{line:8,column:52}},"5":{start:{line:9,column:8},end:{line:9,column:77}},"6":{start:{line:10,column:8},end:{line:10,column:44}},"7":{start:{line:13,column:4},end:{line:13,column:25}},"8":{start:{line:17,column:21},end:{line:17,column:48}},"9":{start:{line:18,column:4},end:{line:18,column:58}},"10":{start:{line:19,column:4},end:{line:19,column:20}},"11":{start:{line:23,column:23},end:{line:23,column:50}},"12":{start:{line:24,column:4},end:{line:24,column:67}},"13":{start:{line:25,column:4},end:{line:25,column:22}},"14":{start:{line:30,column:25},end:{line:30,column:48}},"15":{start:{line:124,column:4},end:{line:159,column:5}},"16":{start:{line:125,column:29},end:{line:125,column:60}},"17":{start:{line:127,column:8},end:{line:127,column:51}},"18":{start:{line:128,column:8},end:{line:128,column:37}},"19":{start:{line:129,column:8},end:{line:129,column:48}},"20":{start:{line:130,column:8},end:{line:130,column:39}},"21":{start:{line:131,column:8},end:{line:131,column:52}},"22":{start:{line:133,column:25},end:{line:144,column:10}},"23":{start:{line:146,column:8},end:{line:146,column:50}},"24":{start:{line:158,column:8},end:{line:158,column:51}},"25":{start:{line:163,column:4},end:{line:181,column:5}},"26":{start:{line:164,column:25},end:{line:164,column:83}},"27":{start:{line:165,column:21},end:{line:165,column:42}},"28":{start:{line:179,column:8},end:{line:179,column:51}},"29":{start:{line:180,column:8},end:{line:180,column:20}},"30":{start:{line:184,column:4},end:{line:215,column:5}},"31":{start:{line:185,column:29},end:{line:185,column:60}},"32":{start:{line:187,column:8},end:{line:187,column:64}},"33":{start:{line:188,column:8},end:{line:188,column:37}},"34":{start:{line:189,column:8},end:{line:189,column:44}},"35":{start:{line:190,column:8},end:{line:190,column:48}},"36":{start:{line:191,column:8},end:{line:191,column:39}},"37":{start:{line:192,column:8},end:{line:192,column:52}},"38":{start:{line:193,column:25},end:{line:205,column:10}},"39":{start:{line:214,column:8},end:{line:214,column:51}},"40":{start:{line:219,column:35},end:{line:219,column:79}},"41":{start:{line:220,column:31},end:{line:220,column:71}},"42":{start:{line:223,column:4},end:{line:223,column:53}},"43":{start:{line:224,column:4},end:{line:224,column:45}},"44":{start:{line:227,column:4},end:{line:227,column:62}},"45":{start:{line:228,column:4},end:{line:228,column:56}},"46":{start:{line:231,column:4},end:{line:231,column:42}},"47":{start:{line:235,column:24},end:{line:235,column:79}},"48":{start:{line:237,column:4},end:{line:273,column:5}},"49":{start:{line:240,column:8},end:{line:269,column:15}},"50":{start:{line:251,column:16},end:{line:264,column:17}},"51":{start:{line:253,column:20},end:{line:253,column:63}},"52":{start:{line:256,column:49},end:{line:256,column:94}},"53":{start:{line:257,column:20},end:{line:260,column:21}},"54":{start:{line:258,column:24},end:{line:258,column:54}},"55":{start:{line:263,column:20},end:{line:263,column:61}},"56":{start:{line:264,column:18},end:{line:264,column:43}},"57":{start:{line:268,column:16},end:{line:268,column:63}},"58":{start:{line:272,column:8},end:{line:272,column:41}}},fnMap:{"0":{name:"createRatingStars",decl:{start:{line:3,column:9},end:{line:3,column:26}},loc:{start:{line:3,column:35},end:{line:14,column:1}},line:3},"1":{name:"createEditIcon",decl:{start:{line:16,column:9},end:{line:16,column:23}},loc:{start:{line:16,column:26},end:{line:20,column:1}},line:16},"2":{name:"createDeleteIcon",decl:{start:{line:22,column:9},end:{line:22,column:25}},loc:{start:{line:22,column:28},end:{line:26,column:1}},line:22},"3":{name:"showReviews",decl:{start:{line:29,column:9},end:{line:29,column:20}},loc:{start:{line:29,column:33},end:{line:120,column:1}},line:29},"4":{name:"addReview",decl:{start:{line:123,column:15},end:{line:123,column:24}},loc:{start:{line:123,column:52},end:{line:160,column:1}},line:123},"5":{name:"getSelectedRestaurantId",decl:{start:{line:162,column:15},end:{line:162,column:38}},loc:{start:{line:162,column:41},end:{line:182,column:1}},line:162},"6":{name:"updateReview",decl:{start:{line:183,column:15},end:{line:183,column:27}},loc:{start:{line:183,column:65},end:{line:216,column:1}},line:183},"7":{name:"openUpdateReviewModal",decl:{start:{line:217,column:9},end:{line:217,column:30}},loc:{start:{line:217,column:39},end:{line:232,column:1}},line:217},"8":{name:"confirmAndDeleteReview",decl:{start:{line:233,column:9},end:{line:233,column:31}},loc:{start:{line:233,column:53},end:{line:274,column:1}},line:233},"9":{name:"(anonymous_9)",decl:{start:{line:250,column:18},end:{line:250,column:19}},loc:{start:{line:250,column:30},end:{line:265,column:13}},line:250},"10":{name:"(anonymous_10)",decl:{start:{line:266,column:19},end:{line:266,column:20}},loc:{start:{line:266,column:28},end:{line:269,column:13}},line:266}},branchMap:{"0":{loc:{start:{line:9,column:48},end:{line:9,column:75}},type:"cond-expr",locations:[{start:{line:9,column:62},end:{line:9,column:67}},{start:{line:9,column:70},end:{line:9,column:75}}],line:9},"1":{loc:{start:{line:237,column:4},end:{line:273,column:5}},type:"if",locations:[{start:{line:237,column:4},end:{line:273,column:5}},{start:{line:237,column:4},end:{line:273,column:5}}],line:237},"2":{loc:{start:{line:251,column:16},end:{line:264,column:17}},type:"if",locations:[{start:{line:251,column:16},end:{line:264,column:17}},{start:{line:251,column:16},end:{line:264,column:17}}],line:251},"3":{loc:{start:{line:257,column:20},end:{line:260,column:21}},type:"if",locations:[{start:{line:257,column:20},end:{line:260,column:21}},{start:{line:257,column:20},end:{line:260,column:21}}],line:257}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"59aeef620932e2cb330950de942ce7a4cdb6c85a"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_20cq24pctf=function(){return actualCoverage;};}return actualCoverage;}cov_20cq24pctf();// Function to create star icons based on the rating
function createRatingStars(rating){cov_20cq24pctf().f[0]++;const starContainer=(cov_20cq24pctf().s[0]++,document.createElement('div'));cov_20cq24pctf().s[1]++;starContainer.classList.add('rating-stars');cov_20cq24pctf().s[2]++;for(let i=(cov_20cq24pctf().s[3]++,1);i<=5;i++){const starIcon=(cov_20cq24pctf().s[4]++,document.createElement('i'));cov_20cq24pctf().s[5]++;starIcon.classList.add('fa','fa-star',i<=rating?(cov_20cq24pctf().b[0][0]++,'fas'):(cov_20cq24pctf().b[0][1]++,'far'));// Change 'filled' to 'fas'
cov_20cq24pctf().s[6]++;starContainer.appendChild(starIcon);}cov_20cq24pctf().s[7]++;return starContainer;}// Function to create an "Edit" icon
function createEditIcon(){cov_20cq24pctf().f[1]++;const editIcon=(cov_20cq24pctf().s[8]++,document.createElement('i'));cov_20cq24pctf().s[9]++;editIcon.classList.add('fas','fa-edit','edit-icon');cov_20cq24pctf().s[10]++;return editIcon;}// creating delete icon
function createDeleteIcon(){cov_20cq24pctf().f[2]++;const deleteIcon=(cov_20cq24pctf().s[11]++,document.createElement('i'));cov_20cq24pctf().s[12]++;deleteIcon.classList.add('fas','fa-trash-alt','delete-icon');cov_20cq24pctf().s[13]++;return deleteIcon;}// Update the showReviews function
function showReviews(restaurant){cov_20cq24pctf().f[3]++;const restaurantId=(cov_20cq24pctf().s[14]++,restaurant.restaurantId);// Check if the restaurantId is defined before making the fetch request
/* istanbul ignore next */if(restaurantId){// Fetch reviews data for the selected restaurant
fetch(`/viewReviewbyRestaurant/${restaurantId}`).then(response=>response.json()).then(reviews=>{const reviewsModalBody=document.getElementById('reviewsModalBody');reviewsModalBody.innerHTML='';// Clear existing content
// Check if 'reviews' is an array and has at least one review
if(Array.isArray(reviews)&&reviews.length>0){// Loop through the reviews and create HTML elements for each
reviews.forEach(review=>{const reviewContainer=document.createElement('div');reviewContainer.classList.add('review-container');// Create a div for the profile picture
const profilePicture=document.createElement('div');profilePicture.classList.add('profile-picture');// Create an image element for the blank avatar
const avatarImg=document.createElement('img');avatarImg.src='./images/blank.jpg';avatarImg.alt='Blank Avatar';profilePicture.appendChild(avatarImg);// Create a div for the review content
const reviewContent=document.createElement('div');reviewContent.classList.add('review-content');// Populate the review content with the review text
const reviewText=document.createElement('p');reviewText.textContent=review.reviewText;reviewContent.appendChild(reviewText);// Create a div for the email
const emailDiv=document.createElement('div');emailDiv.classList.add('email');emailDiv.textContent=review.email;// Create a div for the rating stars
const rating=parseInt(review.rating);const ratingStars=createRatingStars(rating);// Append the profile picture, review content, email, and rating stars to the review container
reviewContainer.appendChild(profilePicture);reviewContainer.appendChild(reviewContent);reviewContainer.appendChild(emailDiv);reviewContainer.appendChild(ratingStars);// Check if the user is logged in (check for the existence of 'user' in session storage)
// Check if the user is logged in
const loggedInUser=JSON.parse(localStorage.getItem('user'));// Check if the review was created by the logged-in user
if(loggedInUser&&loggedInUser.email===review.email){// User is logged in and the review belongs to them, show the "Edit" icon
const editIcon=createEditIcon();editIcon.addEventListener('click',()=>openUpdateReviewModal(review));// If user is logged in, show the "Delete" icon
const deleteIcon=createDeleteIcon();deleteIcon.addEventListener('click',()=>confirmAndDeleteReview({reviewId:review.reviewId,email:review.email}));// Create a container div for the icons
const iconsContainer=document.createElement('div');iconsContainer.classList.add('icons-container');// Append the icons to the container
iconsContainer.appendChild(editIcon);iconsContainer.appendChild(deleteIcon);// Append the container to the reviewContainer
reviewContainer.appendChild(iconsContainer);}// Append the review container to the reviews modal body
reviewsModalBody.appendChild(reviewContainer);});}// Show the reviews modal
$('#reviewsModal').modal('show');}).catch(error=>console.error('An error occurred:',error));}else{console.error('Invalid restaurant object: Missing restaurantId property');}}async function addReview(email,reviewText,rating){cov_20cq24pctf().f[4]++;cov_20cq24pctf().s[15]++;try{const restaurantId=(cov_20cq24pctf().s[16]++,await getSelectedRestaurantId());// Add 'await' here
cov_20cq24pctf().s[17]++;console.log('Posting the following data:');cov_20cq24pctf().s[18]++;console.log('Email:',email);cov_20cq24pctf().s[19]++;console.log('Review Text:',reviewText);cov_20cq24pctf().s[20]++;console.log('Rating:',rating);cov_20cq24pctf().s[21]++;console.log('Restaurant ID:',restaurantId);const response=(cov_20cq24pctf().s[22]++,await fetch('/addReview',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,reviewText,rating,restaurantId})}));cov_20cq24pctf().s[23]++;console.log('Server Response:',response);/* istanbul ignore next */if(response.ok){showReviews({restaurantId});// Review successfully added, reload the reviews for the selected restaurant
$('#addReviewModal').modal('hide');// Close the modal
}else{// Handle errors
console.error('Failed to add review:',response.statusText);}}catch(error){cov_20cq24pctf().s[24]++;console.error('An error occurred:',error);}}async function getSelectedRestaurantId(){cov_20cq24pctf().f[5]++;cov_20cq24pctf().s[25]++;try{const response=(cov_20cq24pctf().s[26]++,await fetch(`/viewRestaurantById/${selectedRestaurantId}`));const data=(cov_20cq24pctf().s[27]++,await response.json());/* istanbul ignore next */if(response.ok){// Parse the restaurantId as an integer
const restaurantId=parseInt(data.restaurantId,10);console.log('Parsed Restaurant ID:',restaurantId);return restaurantId;}else{console.error('Failed to get selected restaurant ID:',data.message);return null;// Return null or handle the error accordingly
}}catch(error){cov_20cq24pctf().s[28]++;console.error('An error occurred:',error);cov_20cq24pctf().s[29]++;return null;// Return null or handle the error accordingly
}}async function updateReview(email,reviewId,reviewText,rating){cov_20cq24pctf().f[6]++;cov_20cq24pctf().s[30]++;try{const restaurantId=(cov_20cq24pctf().s[31]++,await getSelectedRestaurantId());cov_20cq24pctf().s[32]++;console.log('Updating review with the following data:');cov_20cq24pctf().s[33]++;console.log('Email:',email);cov_20cq24pctf().s[34]++;console.log('Review ID:',reviewId);cov_20cq24pctf().s[35]++;console.log('Review Text:',reviewText);cov_20cq24pctf().s[36]++;console.log('Rating:',rating);cov_20cq24pctf().s[37]++;console.log('Restaurant ID:',restaurantId);const response=(cov_20cq24pctf().s[38]++,await fetch('/updateReview',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,reviewId,reviewText,rating,restaurantId})}));/* istanbul ignore next */if(response.ok){showReviews({restaurantId});$('#updateReviewModal').modal('hide');}else{console.error('Failed to update review:',response.statusText);}}catch(error){cov_20cq24pctf().s[39]++;console.error('An error occurred:',error);}}function openUpdateReviewModal(review){cov_20cq24pctf().f[7]++;// Assuming you have fields in the update review modal with IDs like 'updatedReviewText' and 'updatedRating'
const updatedReviewTextInput=(cov_20cq24pctf().s[40]++,document.getElementById('updatedReviewText'));const updatedRatingInput=(cov_20cq24pctf().s[41]++,document.getElementById('updatedRating'));// Populate the modal fields with the existing review details
cov_20cq24pctf().s[42]++;updatedReviewTextInput.value=review.reviewText;cov_20cq24pctf().s[43]++;updatedRatingInput.value=review.rating;// Store the review ID and email in data attributes of the modal
cov_20cq24pctf().s[44]++;$('#updateReviewModal').data('reviewId',review.reviewId);cov_20cq24pctf().s[45]++;$('#updateReviewModal').data('email',review.email);// Open the update review modal
cov_20cq24pctf().s[46]++;$('#updateReviewModal').modal('show');}function confirmAndDeleteReview({reviewId,email}){cov_20cq24pctf().f[8]++;// Show a confirmation dialog to the user
const isConfirmed=(cov_20cq24pctf().s[47]++,confirm("Are you sure you want to delete this review?"));cov_20cq24pctf().s[48]++;if(isConfirmed){cov_20cq24pctf().b[1][0]++;cov_20cq24pctf().s[49]++;// If user confirms, you can make an API request to delete the review
// Replace the URL and method with your actual API endpoint and method (e.g., POST, DELETE)
fetch('/deleteReview',{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,reviewId})}).then(response=>{cov_20cq24pctf().f[9]++;cov_20cq24pctf().s[50]++;if(response.ok){cov_20cq24pctf().b[2][0]++;cov_20cq24pctf().s[51]++;// Review deleted successfully, you can update the UI or handle it as needed
console.log('Review deleted successfully');// Update the UI by removing the deleted review element from the DOM
const deletedReviewElement=(cov_20cq24pctf().s[52]++,document.getElementById(`review-${reviewId}`));cov_20cq24pctf().s[53]++;if(deletedReviewElement){cov_20cq24pctf().b[3][0]++;cov_20cq24pctf().s[54]++;deletedReviewElement.remove();}else{cov_20cq24pctf().b[3][1]++;}}else{cov_20cq24pctf().b[2][1]++;cov_20cq24pctf().s[55]++;// Handle error response from the server
console.error('Failed to delete review');}cov_20cq24pctf().s[56]++;window.location.reload();}).catch(error=>{cov_20cq24pctf().f[10]++;cov_20cq24pctf().s[57]++;// Handle network errors or other issues
console.error('Error deleting review:',error);});}else{cov_20cq24pctf().b[1][1]++;cov_20cq24pctf().s[58]++;// User canceled the deletion
console.log('Deletion canceled');}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjBjcTI0cGN0ZiIsImFjdHVhbENvdmVyYWdlIiwiY3JlYXRlUmF0aW5nU3RhcnMiLCJyYXRpbmciLCJmIiwic3RhckNvbnRhaW5lciIsInMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpIiwic3Rhckljb24iLCJiIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFZGl0SWNvbiIsImVkaXRJY29uIiwiY3JlYXRlRGVsZXRlSWNvbiIsImRlbGV0ZUljb24iLCJzaG93UmV2aWV3cyIsInJlc3RhdXJhbnQiLCJyZXN0YXVyYW50SWQiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJyZXZpZXdzIiwicmV2aWV3c01vZGFsQm9keSIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiZm9yRWFjaCIsInJldmlldyIsInJldmlld0NvbnRhaW5lciIsInByb2ZpbGVQaWN0dXJlIiwiYXZhdGFySW1nIiwic3JjIiwiYWx0IiwicmV2aWV3Q29udGVudCIsInJldmlld1RleHQiLCJ0ZXh0Q29udGVudCIsImVtYWlsRGl2IiwiZW1haWwiLCJwYXJzZUludCIsInJhdGluZ1N0YXJzIiwibG9nZ2VkSW5Vc2VyIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvcGVuVXBkYXRlUmV2aWV3TW9kYWwiLCJjb25maXJtQW5kRGVsZXRlUmV2aWV3IiwicmV2aWV3SWQiLCJpY29uc0NvbnRhaW5lciIsIiQiLCJtb2RhbCIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkUmV2aWV3IiwiZ2V0U2VsZWN0ZWRSZXN0YXVyYW50SWQiLCJsb2ciLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInN0cmluZ2lmeSIsIm9rIiwic3RhdHVzVGV4dCIsInNlbGVjdGVkUmVzdGF1cmFudElkIiwiZGF0YSIsIm1lc3NhZ2UiLCJ1cGRhdGVSZXZpZXciLCJ1cGRhdGVkUmV2aWV3VGV4dElucHV0IiwidXBkYXRlZFJhdGluZ0lucHV0IiwidmFsdWUiLCJpc0NvbmZpcm1lZCIsImNvbmZpcm0iLCJkZWxldGVkUmV2aWV3RWxlbWVudCIsInJlbW92ZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIl0sInNvdXJjZXMiOlsiUmV2aWV3cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGdW5jdGlvbiB0byBjcmVhdGUgc3RhciBpY29ucyBiYXNlZCBvbiB0aGUgcmF0aW5nXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVSYXRpbmdTdGFycyhyYXRpbmcpIHtcclxuICAgIGNvbnN0IHN0YXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHN0YXJDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncmF0aW5nLXN0YXJzJyk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNTsgaSsrKSB7XHJcbiAgICAgICAgY29uc3Qgc3Rhckljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgICAgc3Rhckljb24uY2xhc3NMaXN0LmFkZCgnZmEnLCAnZmEtc3RhcicsIGkgPD0gcmF0aW5nID8gJ2ZhcycgOiAnZmFyJyk7IC8vIENoYW5nZSAnZmlsbGVkJyB0byAnZmFzJ1xyXG4gICAgICAgIHN0YXJDb250YWluZXIuYXBwZW5kQ2hpbGQoc3Rhckljb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdGFyQ29udGFpbmVyO1xyXG59XHJcbi8vIEZ1bmN0aW9uIHRvIGNyZWF0ZSBhbiBcIkVkaXRcIiBpY29uXHJcbmZ1bmN0aW9uIGNyZWF0ZUVkaXRJY29uKCkge1xyXG4gICAgY29uc3QgZWRpdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICBlZGl0SWNvbi5jbGFzc0xpc3QuYWRkKCdmYXMnLCAnZmEtZWRpdCcsICdlZGl0LWljb24nKTtcclxuICAgIHJldHVybiBlZGl0SWNvbjtcclxufVxyXG4vLyBjcmVhdGluZyBkZWxldGUgaWNvblxyXG5mdW5jdGlvbiBjcmVhdGVEZWxldGVJY29uKCkge1xyXG4gICAgY29uc3QgZGVsZXRlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgIGRlbGV0ZUljb24uY2xhc3NMaXN0LmFkZCgnZmFzJywgJ2ZhLXRyYXNoLWFsdCcsICdkZWxldGUtaWNvbicpO1xyXG4gICAgcmV0dXJuIGRlbGV0ZUljb247XHJcbn1cclxuXHJcbi8vIFVwZGF0ZSB0aGUgc2hvd1Jldmlld3MgZnVuY3Rpb25cclxuZnVuY3Rpb24gc2hvd1Jldmlld3MocmVzdGF1cmFudCkge1xyXG4gICAgY29uc3QgcmVzdGF1cmFudElkID0gcmVzdGF1cmFudC5yZXN0YXVyYW50SWQ7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHJlc3RhdXJhbnRJZCBpcyBkZWZpbmVkIGJlZm9yZSBtYWtpbmcgdGhlIGZldGNoIHJlcXVlc3RcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICBpZiAocmVzdGF1cmFudElkKSB7XHJcbiAgICAgICAgLy8gRmV0Y2ggcmV2aWV3cyBkYXRhIGZvciB0aGUgc2VsZWN0ZWQgcmVzdGF1cmFudFxyXG4gICAgICAgIGZldGNoKGAvdmlld1Jldmlld2J5UmVzdGF1cmFudC8ke3Jlc3RhdXJhbnRJZH1gKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgICAgIC50aGVuKHJldmlld3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmV2aWV3c01vZGFsQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXZpZXdzTW9kYWxCb2R5Jyk7XHJcbiAgICAgICAgICAgICAgICByZXZpZXdzTW9kYWxCb2R5LmlubmVySFRNTCA9ICcnOyAvLyBDbGVhciBleGlzdGluZyBjb250ZW50XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgJ3Jldmlld3MnIGlzIGFuIGFycmF5IGFuZCBoYXMgYXQgbGVhc3Qgb25lIHJldmlld1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmV2aWV3cykgJiYgcmV2aWV3cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSByZXZpZXdzIGFuZCBjcmVhdGUgSFRNTCBlbGVtZW50cyBmb3IgZWFjaFxyXG4gICAgICAgICAgICAgICAgICAgIHJldmlld3MuZm9yRWFjaChyZXZpZXcgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Jldmlldy1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGRpdiBmb3IgdGhlIHByb2ZpbGUgcGljdHVyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9maWxlUGljdHVyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlUGljdHVyZS5jbGFzc0xpc3QuYWRkKCdwcm9maWxlLXBpY3R1cmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbiBpbWFnZSBlbGVtZW50IGZvciB0aGUgYmxhbmsgYXZhdGFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF2YXRhckltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXJJbWcuc3JjID0gJy4vaW1hZ2VzL2JsYW5rLmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhckltZy5hbHQgPSAnQmxhbmsgQXZhdGFyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZVBpY3R1cmUuYXBwZW5kQ2hpbGQoYXZhdGFySW1nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGRpdiBmb3IgdGhlIHJldmlldyBjb250ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmlld0NvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q29udGVudC5jbGFzc0xpc3QuYWRkKCdyZXZpZXctY29udGVudCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUG9wdWxhdGUgdGhlIHJldmlldyBjb250ZW50IHdpdGggdGhlIHJldmlldyB0ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldmlld1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld1RleHQudGV4dENvbnRlbnQgPSByZXZpZXcucmV2aWV3VGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q29udGVudC5hcHBlbmRDaGlsZChyZXZpZXdUZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGRpdiBmb3IgdGhlIGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsRGl2LmNsYXNzTGlzdC5hZGQoJ2VtYWlsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsRGl2LnRleHRDb250ZW50ID0gcmV2aWV3LmVtYWlsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZGl2IGZvciB0aGUgcmF0aW5nIHN0YXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9IHBhcnNlSW50KHJldmlldy5yYXRpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRpbmdTdGFycyA9IGNyZWF0ZVJhdGluZ1N0YXJzKHJhdGluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgdGhlIHByb2ZpbGUgcGljdHVyZSwgcmV2aWV3IGNvbnRlbnQsIGVtYWlsLCBhbmQgcmF0aW5nIHN0YXJzIHRvIHRoZSByZXZpZXcgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9maWxlUGljdHVyZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZXZpZXdDb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGVtYWlsRGl2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHJhdGluZ1N0YXJzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbiAoY2hlY2sgZm9yIHRoZSBleGlzdGVuY2Ugb2YgJ3VzZXInIGluIHNlc3Npb24gc3RvcmFnZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHVzZXIgaXMgbG9nZ2VkIGluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2dlZEluVXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcmV2aWV3IHdhcyBjcmVhdGVkIGJ5IHRoZSBsb2dnZWQtaW4gdXNlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9nZ2VkSW5Vc2VyICYmIGxvZ2dlZEluVXNlci5lbWFpbCA9PT0gcmV2aWV3LmVtYWlsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGlzIGxvZ2dlZCBpbiBhbmQgdGhlIHJldmlldyBiZWxvbmdzIHRvIHRoZW0sIHNob3cgdGhlIFwiRWRpdFwiIGljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRJY29uID0gY3JlYXRlRWRpdEljb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3BlblVwZGF0ZVJldmlld01vZGFsKHJldmlldykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgaXMgbG9nZ2VkIGluLCBzaG93IHRoZSBcIkRlbGV0ZVwiIGljb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUljb24gPSBjcmVhdGVEZWxldGVJY29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29uZmlybUFuZERlbGV0ZVJldmlldyh7IHJldmlld0lkOiByZXZpZXcucmV2aWV3SWQsIGVtYWlsOiByZXZpZXcuZW1haWwgfSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGNvbnRhaW5lciBkaXYgZm9yIHRoZSBpY29uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWNvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ljb25zLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgaWNvbnMgdG8gdGhlIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZWRpdEljb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVsZXRlSWNvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBjb250YWluZXIgdG8gdGhlIHJldmlld0NvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGljb25zQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSByZXZpZXcgY29udGFpbmVyIHRvIHRoZSByZXZpZXdzIG1vZGFsIGJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2aWV3c01vZGFsQm9keS5hcHBlbmRDaGlsZChyZXZpZXdDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyB0aGUgcmV2aWV3cyBtb2RhbFxyXG4gICAgICAgICAgICAgICAgJCgnI3Jldmlld3NNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZDonLCBlcnJvcikpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIHJlc3RhdXJhbnQgb2JqZWN0OiBNaXNzaW5nIHJlc3RhdXJhbnRJZCBwcm9wZXJ0eScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkUmV2aWV3KGVtYWlsLCByZXZpZXdUZXh0LCByYXRpbmcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdGF1cmFudElkID0gYXdhaXQgZ2V0U2VsZWN0ZWRSZXN0YXVyYW50SWQoKTsgLy8gQWRkICdhd2FpdCcgaGVyZVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnUG9zdGluZyB0aGUgZm9sbG93aW5nIGRhdGE6Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsOicsIGVtYWlsKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnUmV2aWV3IFRleHQ6JywgcmV2aWV3VGV4dCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JhdGluZzonLCByYXRpbmcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSZXN0YXVyYW50IElEOicsIHJlc3RhdXJhbnRJZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hZGRSZXZpZXcnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcmV2aWV3VGV4dCxcclxuICAgICAgICAgICAgICAgIHJhdGluZyxcclxuICAgICAgICAgICAgICAgIHJlc3RhdXJhbnRJZCxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgUmVzcG9uc2U6JywgcmVzcG9uc2UpO1xyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIHNob3dSZXZpZXdzKHsgcmVzdGF1cmFudElkIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUmV2aWV3IHN1Y2Nlc3NmdWxseSBhZGRlZCwgcmVsb2FkIHRoZSByZXZpZXdzIGZvciB0aGUgc2VsZWN0ZWQgcmVzdGF1cmFudFxyXG4gICAgICAgICAgICAkKCcjYWRkUmV2aWV3TW9kYWwnKS5tb2RhbCgnaGlkZScpOyAvLyBDbG9zZSB0aGUgbW9kYWxcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBIYW5kbGUgZXJyb3JzXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBhZGQgcmV2aWV3OicsIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQ6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRTZWxlY3RlZFJlc3RhdXJhbnRJZCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL3ZpZXdSZXN0YXVyYW50QnlJZC8ke3NlbGVjdGVkUmVzdGF1cmFudElkfWApO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIC8vIFBhcnNlIHRoZSByZXN0YXVyYW50SWQgYXMgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICBjb25zdCByZXN0YXVyYW50SWQgPSBwYXJzZUludChkYXRhLnJlc3RhdXJhbnRJZCwgMTApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGFyc2VkIFJlc3RhdXJhbnQgSUQ6JywgcmVzdGF1cmFudElkKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN0YXVyYW50SWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBzZWxlY3RlZCByZXN0YXVyYW50IElEOicsIGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBSZXR1cm4gbnVsbCBvciBoYW5kbGUgdGhlIGVycm9yIGFjY29yZGluZ2x5XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7IC8vIFJldHVybiBudWxsIG9yIGhhbmRsZSB0aGUgZXJyb3IgYWNjb3JkaW5nbHlcclxuICAgIH1cclxufVxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVSZXZpZXcoZW1haWwsIHJldmlld0lkLCByZXZpZXdUZXh0LCByYXRpbmcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdGF1cmFudElkID0gYXdhaXQgZ2V0U2VsZWN0ZWRSZXN0YXVyYW50SWQoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIHJldmlldyB3aXRoIHRoZSBmb2xsb3dpbmcgZGF0YTonKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnRW1haWw6JywgZW1haWwpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSZXZpZXcgSUQ6JywgcmV2aWV3SWQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSZXZpZXcgVGV4dDonLCByZXZpZXdUZXh0KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnUmF0aW5nOicsIHJhdGluZyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Jlc3RhdXJhbnQgSUQ6JywgcmVzdGF1cmFudElkKTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvdXBkYXRlUmV2aWV3Jywge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcmV2aWV3SWQsXHJcbiAgICAgICAgICAgICAgICByZXZpZXdUZXh0LFxyXG4gICAgICAgICAgICAgICAgcmF0aW5nLFxyXG4gICAgICAgICAgICAgICAgcmVzdGF1cmFudElkLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBzaG93UmV2aWV3cyh7IHJlc3RhdXJhbnRJZCB9KTtcclxuICAgICAgICAgICAgJCgnI3VwZGF0ZVJldmlld01vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHJldmlldzonLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkOicsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBvcGVuVXBkYXRlUmV2aWV3TW9kYWwocmV2aWV3KSB7XHJcbiAgICAvLyBBc3N1bWluZyB5b3UgaGF2ZSBmaWVsZHMgaW4gdGhlIHVwZGF0ZSByZXZpZXcgbW9kYWwgd2l0aCBJRHMgbGlrZSAndXBkYXRlZFJldmlld1RleHQnIGFuZCAndXBkYXRlZFJhdGluZydcclxuICAgIGNvbnN0IHVwZGF0ZWRSZXZpZXdUZXh0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlZFJldmlld1RleHQnKTtcclxuICAgIGNvbnN0IHVwZGF0ZWRSYXRpbmdJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGVkUmF0aW5nJyk7XHJcblxyXG4gICAgLy8gUG9wdWxhdGUgdGhlIG1vZGFsIGZpZWxkcyB3aXRoIHRoZSBleGlzdGluZyByZXZpZXcgZGV0YWlsc1xyXG4gICAgdXBkYXRlZFJldmlld1RleHRJbnB1dC52YWx1ZSA9IHJldmlldy5yZXZpZXdUZXh0O1xyXG4gICAgdXBkYXRlZFJhdGluZ0lucHV0LnZhbHVlID0gcmV2aWV3LnJhdGluZztcclxuXHJcbiAgICAvLyBTdG9yZSB0aGUgcmV2aWV3IElEIGFuZCBlbWFpbCBpbiBkYXRhIGF0dHJpYnV0ZXMgb2YgdGhlIG1vZGFsXHJcbiAgICAkKCcjdXBkYXRlUmV2aWV3TW9kYWwnKS5kYXRhKCdyZXZpZXdJZCcsIHJldmlldy5yZXZpZXdJZCk7XHJcbiAgICAkKCcjdXBkYXRlUmV2aWV3TW9kYWwnKS5kYXRhKCdlbWFpbCcsIHJldmlldy5lbWFpbCk7XHJcblxyXG4gICAgLy8gT3BlbiB0aGUgdXBkYXRlIHJldmlldyBtb2RhbFxyXG4gICAgJCgnI3VwZGF0ZVJldmlld01vZGFsJykubW9kYWwoJ3Nob3cnKTtcclxufVxyXG5mdW5jdGlvbiBjb25maXJtQW5kRGVsZXRlUmV2aWV3KHsgcmV2aWV3SWQsIGVtYWlsIH0pIHtcclxuICAgIC8vIFNob3cgYSBjb25maXJtYXRpb24gZGlhbG9nIHRvIHRoZSB1c2VyXHJcbiAgICBjb25zdCBpc0NvbmZpcm1lZCA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcmV2aWV3P1wiKTtcclxuXHJcbiAgICBpZiAoaXNDb25maXJtZWQpIHtcclxuICAgICAgICAvLyBJZiB1c2VyIGNvbmZpcm1zLCB5b3UgY2FuIG1ha2UgYW4gQVBJIHJlcXVlc3QgdG8gZGVsZXRlIHRoZSByZXZpZXdcclxuICAgICAgICAvLyBSZXBsYWNlIHRoZSBVUkwgYW5kIG1ldGhvZCB3aXRoIHlvdXIgYWN0dWFsIEFQSSBlbmRwb2ludCBhbmQgbWV0aG9kIChlLmcuLCBQT1NULCBERUxFVEUpXHJcbiAgICAgICAgZmV0Y2goJy9kZWxldGVSZXZpZXcnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgcmV2aWV3SWRcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmV2aWV3IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LCB5b3UgY2FuIHVwZGF0ZSB0aGUgVUkgb3IgaGFuZGxlIGl0IGFzIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXZpZXcgZGVsZXRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBVSSBieSByZW1vdmluZyB0aGUgZGVsZXRlZCByZXZpZXcgZWxlbWVudCBmcm9tIHRoZSBET01cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVkUmV2aWV3RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZXZpZXctJHtyZXZpZXdJZH1gKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZXRlZFJldmlld0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlZFJldmlld0VsZW1lbnQucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGVycm9yIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlclxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgcmV2aWV3Jyk7XHJcbiAgICAgICAgICAgICAgICB9IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBuZXR3b3JrIGVycm9ycyBvciBvdGhlciBpc3N1ZXNcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHJldmlldzonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBVc2VyIGNhbmNlbGVkIHRoZSBkZWxldGlvblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEZWxldGlvbiBjYW5jZWxlZCcpO1xyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiKzFOQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaO0FBRUEsUUFBUyxDQUFBRSxpQkFBaUJBLENBQUNDLE1BQU0sQ0FBRSxDQUFBSCxjQUFBLEdBQUFJLENBQUEsTUFDL0IsS0FBTSxD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