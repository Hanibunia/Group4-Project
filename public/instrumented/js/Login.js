function cov_1xd8c37rqf(){var path="C:\\Users\\Derrick\\Documents\\DVOPS_Projects\\test 3\\Group4-Project\\public\\js\\Login.js";var hash="8b3bd9b0a135b628aa29b4440caa5324480d5ded";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Derrick\\Documents\\DVOPS_Projects\\test 3\\Group4-Project\\public\\js\\Login.js",statementMap:{"0":{start:{line:3,column:16},end:{line:3,column:59}},"1":{start:{line:4,column:19},end:{line:4,column:65}},"2":{start:{line:7,column:4},end:{line:10,column:5}},"3":{start:{line:8,column:8},end:{line:8,column:67}},"4":{start:{line:9,column:8},end:{line:9,column:15}},"5":{start:{line:13,column:15},end:{line:16,column:5}},"6":{start:{line:18,column:4},end:{line:61,column:5}},"7":{start:{line:20,column:25},end:{line:26,column:10}},"8":{start:{line:29,column:23},end:{line:29,column:44}},"9":{start:{line:31,column:8},end:{line:56,column:9}},"10":{start:{line:34,column:29},end:{line:37,column:13}},"11":{start:{line:40,column:12},end:{line:40,column:67}},"12":{start:{line:43,column:30},end:{line:43,column:64}},"13":{start:{line:44,column:12},end:{line:44,column:159}},"14":{start:{line:47,column:12},end:{line:47,column:42}},"15":{start:{line:50,column:12},end:{line:50,column:28}},"16":{start:{line:55,column:12},end:{line:55,column:34}},"17":{start:{line:59,column:8},end:{line:59,column:52}},"18":{start:{line:60,column:8},end:{line:60,column:67}},"19":{start:{line:66,column:17},end:{line:66,column:57}},"20":{start:{line:69,column:28},end:{line:69,column:70}},"21":{start:{line:70,column:4},end:{line:72,column:5}},"22":{start:{line:71,column:8},end:{line:71,column:64}},"23":{start:{line:75,column:22},end:{line:75,column:56}},"24":{start:{line:76,column:4},end:{line:82,column:5}},"25":{start:{line:78,column:8},end:{line:78,column:168}},"26":{start:{line:81,column:8},end:{line:81,column:200}},"27":{start:{line:88,column:17},end:{line:88,column:57}},"28":{start:{line:90,column:4},end:{line:96,column:5}},"29":{start:{line:92,column:8},end:{line:92,column:21}},"30":{start:{line:95,column:8},end:{line:95,column:38}},"31":{start:{line:101,column:4},end:{line:101,column:36}},"32":{start:{line:104,column:28},end:{line:104,column:70}},"33":{start:{line:105,column:4},end:{line:107,column:5}},"34":{start:{line:106,column:8},end:{line:106,column:47}},"35":{start:{line:110,column:22},end:{line:110,column:56}},"36":{start:{line:112,column:4},end:{line:114,column:5}},"37":{start:{line:113,column:8},end:{line:113,column:200}},"38":{start:{line:119,column:4},end:{line:119,column:31}},"39":{start:{line:123,column:0},end:{line:123,column:16}}},fnMap:{"0":{name:"loginUser",decl:{start:{line:1,column:15},end:{line:1,column:24}},loc:{start:{line:1,column:27},end:{line:62,column:1}},line:1},"1":{name:"checkLoggedIn",decl:{start:{line:64,column:9},end:{line:64,column:22}},loc:{start:{line:64,column:25},end:{line:83,column:1}},line:64},"2":{name:"toggleLogin",decl:{start:{line:86,column:9},end:{line:86,column:20}},loc:{start:{line:86,column:23},end:{line:97,column:1}},line:86},"3":{name:"logoutUser",decl:{start:{line:99,column:9},end:{line:99,column:19}},loc:{start:{line:99,column:22},end:{line:120,column:1}},line:99}},branchMap:{"0":{loc:{start:{line:7,column:4},end:{line:10,column:5}},type:"if",locations:[{start:{line:7,column:4},end:{line:10,column:5}},{start:{line:7,column:4},end:{line:10,column:5}}],line:7},"1":{loc:{start:{line:7,column:8},end:{line:7,column:51}},type:"binary-expr",locations:[{start:{line:7,column:8},end:{line:7,column:28}},{start:{line:7,column:32},end:{line:7,column:51}}],line:7},"2":{loc:{start:{line:31,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:31,column:8},end:{line:56,column:9}},{start:{line:31,column:8},end:{line:56,column:9}}],line:31},"3":{loc:{start:{line:70,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:72,column:5}},{start:{line:70,column:4},end:{line:72,column:5}}],line:70},"4":{loc:{start:{line:71,column:40},end:{line:71,column:63}},type:"cond-expr",locations:[{start:{line:71,column:47},end:{line:71,column:54}},{start:{line:71,column:57},end:{line:71,column:63}}],line:71},"5":{loc:{start:{line:76,column:4},end:{line:82,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:82,column:5}},{start:{line:76,column:4},end:{line:82,column:5}}],line:76},"6":{loc:{start:{line:90,column:4},end:{line:96,column:5}},type:"if",locations:[{start:{line:90,column:4},end:{line:96,column:5}},{start:{line:90,column:4},end:{line:96,column:5}}],line:90},"7":{loc:{start:{line:105,column:4},end:{line:107,column:5}},type:"if",locations:[{start:{line:105,column:4},end:{line:107,column:5}},{start:{line:105,column:4},end:{line:107,column:5}}],line:105},"8":{loc:{start:{line:112,column:4},end:{line:114,column:5}},type:"if",locations:[{start:{line:112,column:4},end:{line:114,column:5}},{start:{line:112,column:4},end:{line:114,column:5}}],line:112}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b3bd9b0a135b628aa29b4440caa5324480d5ded"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1xd8c37rqf=function(){return actualCoverage;};}return actualCoverage;}cov_1xd8c37rqf();async function loginUser(){cov_1xd8c37rqf().f[0]++;// Get user input values
var email=(cov_1xd8c37rqf().s[0]++,document.getElementById('loginEmail').value);var password=(cov_1xd8c37rqf().s[1]++,document.getElementById('loginPassword').value);// Perform validation
cov_1xd8c37rqf().s[2]++;if((cov_1xd8c37rqf().b[1][0]++,!email.includes('@'))||(cov_1xd8c37rqf().b[1][1]++,password.length<6)){cov_1xd8c37rqf().b[0][0]++;cov_1xd8c37rqf().s[3]++;alert('Invalid email or password (minimum 6 characters).');cov_1xd8c37rqf().s[4]++;return;}else{cov_1xd8c37rqf().b[0][1]++;}// Prepare data for the backend
var data=(cov_1xd8c37rqf().s[5]++,{email:email,password:password});cov_1xd8c37rqf().s[6]++;try{// Make a POST request to the backend
const response=(cov_1xd8c37rqf().s[7]++,await fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}));// Parse the JSON response
const result=(cov_1xd8c37rqf().s[8]++,await response.json());cov_1xd8c37rqf().s[9]++;if(response.ok){cov_1xd8c37rqf().b[2][0]++;const userData=(cov_1xd8c37rqf().s[10]++,{email:email// You can include other user-related information if needed
});// Store user data in localStorage
cov_1xd8c37rqf().s[11]++;localStorage.setItem('user',JSON.stringify(userData));// Change the "Login" link to "Logout" and bind the logout function
const loginLink=(cov_1xd8c37rqf().s[12]++,document.getElementById('navUser'));cov_1xd8c37rqf().s[13]++;loginLink.innerHTML='<a class="nav-link" href="#" onclick="logoutUser()"><span class="fa-sharp fa-solid fa-right-to-bracket"></span> Logout</a>';// Close the login modal or redirect the user
cov_1xd8c37rqf().s[14]++;$('#loginForm').modal('hide');// Update the UI based on the login status
cov_1xd8c37rqf().s[15]++;checkLoggedIn();}else{cov_1xd8c37rqf().b[2][1]++;cov_1xd8c37rqf().s[16]++;// Failed login
alert(result.message);}}catch(error){cov_1xd8c37rqf().s[17]++;console.error('Error during login:',error);cov_1xd8c37rqf().s[18]++;alert('An error occurred during login. Please try again.');}}function checkLoggedIn(){cov_1xd8c37rqf().f[1]++;// Check if the user is logged in
const user=(cov_1xd8c37rqf().s[19]++,JSON.parse(localStorage.getItem('user')));// Show/hide the "Add Review" button based on the login status
const addReviewButton=(cov_1xd8c37rqf().s[20]++,document.getElementById('addReviewButton'));cov_1xd8c37rqf().s[21]++;if(addReviewButton){cov_1xd8c37rqf().b[3][0]++;cov_1xd8c37rqf().s[22]++;addReviewButton.style.display=user?(cov_1xd8c37rqf().b[4][0]++,'block'):(cov_1xd8c37rqf().b[4][1]++,'none');}else{cov_1xd8c37rqf().b[3][1]++;}// Update the login/logout link
const loginLink=(cov_1xd8c37rqf().s[23]++,document.getElementById('navUser'));cov_1xd8c37rqf().s[24]++;if(user){cov_1xd8c37rqf().b[5][0]++;cov_1xd8c37rqf().s[25]++;// User is logged in, update the UI accordingly
loginLink.innerHTML='<a class="nav-link" href="#"  id="logout" onclick="logoutUser()"><span class="fa-sharp fa-solid fa-right-to-bracket"></span> Logout</a>';}else{cov_1xd8c37rqf().b[5][1]++;cov_1xd8c37rqf().s[26]++;// User is not logged in, update the UI accordingly
loginLink.innerHTML='<a class="nav-link" href="#" data-toggle="modal" data-target="#loginForm" onclick="toggleLogin()"><span class="fa-sharp fa-solid fa-right-to-bracket"></span> Login</a>';}}function toggleLogin(){cov_1xd8c37rqf().f[2]++;// Check if the user is logged in
const user=(cov_1xd8c37rqf().s[27]++,JSON.parse(localStorage.getItem('user')));cov_1xd8c37rqf().s[28]++;if(user){cov_1xd8c37rqf().b[6][0]++;cov_1xd8c37rqf().s[29]++;// User is logged in, initiate logout
logoutUser();}else{cov_1xd8c37rqf().b[6][1]++;cov_1xd8c37rqf().s[30]++;// User is not logged in, open the login modal
$('#loginForm').modal('show');}}function logoutUser(){cov_1xd8c37rqf().f[3]++;cov_1xd8c37rqf().s[31]++;// Clear user data from localStorage
localStorage.removeItem('user');// Hide the "Add Review" button
const addReviewButton=(cov_1xd8c37rqf().s[32]++,document.getElementById('addReviewButton'));cov_1xd8c37rqf().s[33]++;if(addReviewButton){cov_1xd8c37rqf().b[7][0]++;cov_1xd8c37rqf().s[34]++;addReviewButton.style.display='none';}else{cov_1xd8c37rqf().b[7][1]++;}// Change the "Logout" link back to "Login" and bind the login function
const loginLink=(cov_1xd8c37rqf().s[35]++,document.getElementById('navUser'));cov_1xd8c37rqf().s[36]++;if(loginLink){cov_1xd8c37rqf().b[8][0]++;cov_1xd8c37rqf().s[37]++;loginLink.innerHTML='<a class="nav-link" href="#" data-toggle="modal" data-target="#loginForm" onclick="toggleLogin()"><span class="fa-sharp fa-solid fa-right-to-bracket"></span> Login</a>';}else{cov_1xd8c37rqf().b[8][1]++;}// Optionally, display a logout message or update the UI
cov_1xd8c37rqf().s[38]++;alert('Logout successful');}// Check the login status when the page loads
cov_1xd8c37rqf().s[39]++;checkLoggedIn();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXhkOGMzN3JxZiIsImFjdHVhbENvdmVyYWdlIiwibG9naW5Vc2VyIiwiZiIsImVtYWlsIiwicyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInBhc3N3b3JkIiwiYiIsImluY2x1ZGVzIiwibGVuZ3RoIiwiYWxlcnQiLCJkYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3VsdCIsImpzb24iLCJvayIsInVzZXJEYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImxvZ2luTGluayIsImlubmVySFRNTCIsIiQiLCJtb2RhbCIsImNoZWNrTG9nZ2VkSW4iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwidXNlciIsInBhcnNlIiwiZ2V0SXRlbSIsImFkZFJldmlld0J1dHRvbiIsInN0eWxlIiwiZGlzcGxheSIsInRvZ2dsZUxvZ2luIiwibG9nb3V0VXNlciIsInJlbW92ZUl0ZW0iXSwic291cmNlcyI6WyJMb2dpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyBmdW5jdGlvbiBsb2dpblVzZXIoKSB7XHJcbiAgICAvLyBHZXQgdXNlciBpbnB1dCB2YWx1ZXNcclxuICAgIHZhciBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkVtYWlsJykudmFsdWU7XHJcbiAgICB2YXIgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5QYXNzd29yZCcpLnZhbHVlO1xyXG5cclxuICAgIC8vIFBlcmZvcm0gdmFsaWRhdGlvblxyXG4gICAgaWYgKCFlbWFpbC5pbmNsdWRlcygnQCcpIHx8IHBhc3N3b3JkLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICBhbGVydCgnSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCAobWluaW11bSA2IGNoYXJhY3RlcnMpLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcmVwYXJlIGRhdGEgZm9yIHRoZSBiYWNrZW5kXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gTWFrZSBhIFBPU1QgcmVxdWVzdCB0byB0aGUgYmFja2VuZFxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9sb2dpbicsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUGFyc2UgdGhlIEpTT04gcmVzcG9uc2VcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAvLyBZb3UgY2FuIGluY2x1ZGUgb3RoZXIgdXNlci1yZWxhdGVkIGluZm9ybWF0aW9uIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gU3RvcmUgdXNlciBkYXRhIGluIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIFwiTG9naW5cIiBsaW5rIHRvIFwiTG9nb3V0XCIgYW5kIGJpbmQgdGhlIGxvZ291dCBmdW5jdGlvblxyXG4gICAgICAgICAgICBjb25zdCBsb2dpbkxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2VXNlcicpO1xyXG4gICAgICAgICAgICBsb2dpbkxpbmsuaW5uZXJIVE1MID0gJzxhIGNsYXNzPVwibmF2LWxpbmtcIiBocmVmPVwiI1wiIG9uY2xpY2s9XCJsb2dvdXRVc2VyKClcIj48c3BhbiBjbGFzcz1cImZhLXNoYXJwIGZhLXNvbGlkIGZhLXJpZ2h0LXRvLWJyYWNrZXRcIj48L3NwYW4+IExvZ291dDwvYT4nO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xvc2UgdGhlIGxvZ2luIG1vZGFsIG9yIHJlZGlyZWN0IHRoZSB1c2VyXHJcbiAgICAgICAgICAgICQoJyNsb2dpbkZvcm0nKS5tb2RhbCgnaGlkZScpO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBVSSBiYXNlZCBvbiB0aGUgbG9naW4gc3RhdHVzXHJcbiAgICAgICAgICAgIGNoZWNrTG9nZ2VkSW4oKTtcclxuXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRmFpbGVkIGxvZ2luXHJcbiAgICAgICAgICAgIGFsZXJ0KHJlc3VsdC5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgbG9naW46JywgZXJyb3IpO1xyXG4gICAgICAgIGFsZXJ0KCdBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgbG9naW4uIFBsZWFzZSB0cnkgYWdhaW4uJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrTG9nZ2VkSW4oKSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBpcyBsb2dnZWQgaW5cclxuICAgIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpO1xyXG5cclxuICAgIC8vIFNob3cvaGlkZSB0aGUgXCJBZGQgUmV2aWV3XCIgYnV0dG9uIGJhc2VkIG9uIHRoZSBsb2dpbiBzdGF0dXNcclxuICAgIGNvbnN0IGFkZFJldmlld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRSZXZpZXdCdXR0b24nKTtcclxuICAgIGlmIChhZGRSZXZpZXdCdXR0b24pIHtcclxuICAgICAgICBhZGRSZXZpZXdCdXR0b24uc3R5bGUuZGlzcGxheSA9IHVzZXIgPyAnYmxvY2snIDogJ25vbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgbG9naW4vbG9nb3V0IGxpbmtcclxuICAgIGNvbnN0IGxvZ2luTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZVc2VyJyk7XHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICAgIC8vIFVzZXIgaXMgbG9nZ2VkIGluLCB1cGRhdGUgdGhlIFVJIGFjY29yZGluZ2x5XHJcbiAgICAgICAgbG9naW5MaW5rLmlubmVySFRNTCA9ICc8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIiNcIiAgaWQ9XCJsb2dvdXRcIiBvbmNsaWNrPVwibG9nb3V0VXNlcigpXCI+PHNwYW4gY2xhc3M9XCJmYS1zaGFycCBmYS1zb2xpZCBmYS1yaWdodC10by1icmFja2V0XCI+PC9zcGFuPiBMb2dvdXQ8L2E+JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVXNlciBpcyBub3QgbG9nZ2VkIGluLCB1cGRhdGUgdGhlIFVJIGFjY29yZGluZ2x5XHJcbiAgICAgICAgbG9naW5MaW5rLmlubmVySFRNTCA9ICc8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIiNcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjbG9naW5Gb3JtXCIgb25jbGljaz1cInRvZ2dsZUxvZ2luKClcIj48c3BhbiBjbGFzcz1cImZhLXNoYXJwIGZhLXNvbGlkIGZhLXJpZ2h0LXRvLWJyYWNrZXRcIj48L3NwYW4+IExvZ2luPC9hPic7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiB0b2dnbGVMb2dpbigpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpblxyXG4gICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSk7XHJcblxyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAvLyBVc2VyIGlzIGxvZ2dlZCBpbiwgaW5pdGlhdGUgbG9nb3V0XHJcbiAgICAgICAgbG9nb3V0VXNlcigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBVc2VyIGlzIG5vdCBsb2dnZWQgaW4sIG9wZW4gdGhlIGxvZ2luIG1vZGFsXHJcbiAgICAgICAgJCgnI2xvZ2luRm9ybScpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvZ291dFVzZXIoKSB7XHJcbiAgICAvLyBDbGVhciB1c2VyIGRhdGEgZnJvbSBsb2NhbFN0b3JhZ2VcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7XHJcblxyXG4gICAgLy8gSGlkZSB0aGUgXCJBZGQgUmV2aWV3XCIgYnV0dG9uXHJcbiAgICBjb25zdCBhZGRSZXZpZXdCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkUmV2aWV3QnV0dG9uJyk7XHJcbiAgICBpZiAoYWRkUmV2aWV3QnV0dG9uKSB7XHJcbiAgICAgICAgYWRkUmV2aWV3QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hhbmdlIHRoZSBcIkxvZ291dFwiIGxpbmsgYmFjayB0byBcIkxvZ2luXCIgYW5kIGJpbmQgdGhlIGxvZ2luIGZ1bmN0aW9uXHJcbiAgICBjb25zdCBsb2dpbkxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2VXNlcicpO1xyXG4gICAgXHJcbiAgICBpZiAobG9naW5MaW5rKSB7XHJcbiAgICAgICAgbG9naW5MaW5rLmlubmVySFRNTCA9ICc8YSBjbGFzcz1cIm5hdi1saW5rXCIgaHJlZj1cIiNcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjbG9naW5Gb3JtXCIgb25jbGljaz1cInRvZ2dsZUxvZ2luKClcIj48c3BhbiBjbGFzcz1cImZhLXNoYXJwIGZhLXNvbGlkIGZhLXJpZ2h0LXRvLWJyYWNrZXRcIj48L3NwYW4+IExvZ2luPC9hPic7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyBPcHRpb25hbGx5LCBkaXNwbGF5IGEgbG9nb3V0IG1lc3NhZ2Ugb3IgdXBkYXRlIHRoZSBVSVxyXG4gICAgYWxlcnQoJ0xvZ291dCBzdWNjZXNzZnVsJyk7XHJcbn1cclxuXHJcbi8vIENoZWNrIHRoZSBsb2dpbiBzdGF0dXMgd2hlbiB0aGUgcGFnZSBsb2Fkc1xyXG5jaGVja0xvZ2dlZEluKCk7Il0sIm1hcHBpbmdzIjoiby9LQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLGNBQWUsQ0FBQUUsU0FBU0EsQ0FBQSxDQUFHLENBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUN2QjtBQUNBLEdBQUksQ0FBQUMsS0FBSyxFQUFBSixjQUFBLEdBQUFLLENBQUEsTUFBR0MsUUFBUSxDQUFDQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUNDLEtBQUssRUFDdkQsR0FBSSxDQUFBQyxRQUFRLEVBQUFULGNBQUEsR0FBQUssQ0FBQSxNQUFHQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQ0MsS0FBSyxFQUU3RDtBQUFBUixjQUFBLEdBQUFLLENBQUEsTUFDQSxHQUFJLENBQUFMLGNBQUEsR0FBQVUsQ0FBQSxVQUFDTixLQUFLLENBQUNPLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBQVgsY0FBQSxHQUFBVSxDQUFBLFNBQUlELFFBQVEsQ0FBQ0cs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